### Environment Parameters
debug: false
mode: train
cuda: true
pin_memory: true
wandb: false
worker: 8
log_interval: 9999
save_interval: 1
saved_model_directory: 'model_ckpts'
train_fold: 1
project_name: 'GEM-FSG-Net-Background'
CUDA_VISIBLE_DEVICES: '0'

### Train Parameters
model_name: 'GEM_FSGNet'
n_classes: 1
in_channels: 3
base_c: 64
depths: [3, 3, 9, 3]
kernel_size: 3
dataloader: 'Image2Image_zero_pad'
criterion: 'DiceBCELoss'
task: 'segmentation'
input_space: 'RGB'
input_channel: 3

# GEMæ¨¡å—æ§åˆ¶å‚æ•° - å¯åœ¨é…ç½®æ–‡ä»¶ä¸­çµæ´»è°ƒæ•´
use_gem_encoder: [false, false, false, false]  # ç¼–ç å™¨4å±‚å¼€å…³ï¼š[å±‚1, å±‚2, å±‚3, å±‚4]
use_gem_bottleneck: true                   # ç“¶é¢ˆå±‚å¼€å…³
use_gem_decoder: [false, false, false, false]  # è§£ç å™¨4å±‚å¼€å…³ï¼š[å±‚1, å±‚2, å±‚3, å±‚4]

# ğŸ”¥ èƒŒæ™¯å­¦ä¹ å‚æ•° - æ–°å¢åŠŸèƒ½
use_background_learning: true              # å¯ç”¨èƒŒæ™¯å­¦ä¹ ï¼ˆæ ‡ç­¾åè½¬ï¼‰

# æ•°æ®é›†ç‰¹å®šå‚æ•° - æ ¹æ®æ‚¨ä½¿ç”¨çš„æ•°æ®é›†å–æ¶ˆæ³¨é‡Šå¯¹åº”éƒ¨åˆ†
# DRIVEæ•°æ®é›†
input_size: [608, 608]
train_x_path: '/root/FSG-Net-pytorch/data/DRIVE/train/input'
train_y_path: '/root/FSG-Net-pytorch/data/DRIVE/train/label'
val_x_path: '/root/FSG-Net-pytorch/data/DRIVE/val/input'
val_y_path: '/root/FSG-Net-pytorch/data/DRIVE/val/label'

# STAREæ•°æ®é›†
# input_size: [704, 704]
# train_x_path: 'E:/temp/FSG-Net-pytorch/data/STARE/train/input'
# train_y_path: 'E:/temp/FSG-Net-pytorch/data/STARE/train/label'
# val_x_path: 'E:/temp/FSG-Net-pytorch/data/STARE/val/input'
# val_y_path: 'E:/temp/FSG-Net-pytorch/data/STARE/val/label'

# CHASE_DB1æ•°æ®é›†
# input_size: [1024, 1024]
# train_x_path: 'E:/temp/FSG-Net-pytorch/data/CHASE_DB1/train/input'
# train_y_path: 'E:/temp/FSG-Net-pytorch/data/CHASE_DB1/train/label'
# val_x_path: 'E:/temp/FSG-Net-pytorch/data/CHASE_DB1/val/input'
# val_y_path: 'E:/temp/FSG-Net-pytorch/data/CHASE_DB1/val/label'

# HRFæ•°æ®é›†
# input_size: [1344, 1344]
# train_x_path: 'E:/temp/FSG-Net-pytorch/data/HRF/train/input'
# train_y_path: 'E:/temp/FSG-Net-pytorch/data/HRF/train/label'
# val_x_path: 'E:/temp/FSG-Net-pytorch/data/HRF/val/input'
# val_y_path: 'E:/temp/FSG-Net-pytorch/data/HRF/val/label'

optimizer: 'AdamW'
lr: 0.001
scheduler: 'WarmupCosine'
cycles: 100
warmup_epoch: 20
weight_decay: 0.05
batch_size: 4  # æ ¹æ®GTX 1660 SUPERæ˜¾å­˜è°ƒæ•´
epoch: 10000
ema_decay: 0
class_weight: [1.0, 1.0]
model_path: ''
freeze_layer: false

### Augmentation Parameters
transform_blur: true
transform_jitter: true
transform_hflip: true
transform_perspective: true
transform_cutmix: true
transform_rand_resize: true
transform_rand_crop: 288
# ğŸ”¥ å›°éš¾æ ·æœ¬æŒ–æ˜å‚æ•°
use_hard_mining: true                    # å¯ç”¨å›°éš¾æ ·æœ¬æŒ–æ˜
hard_mining_start_epoch: 20              # ä»ç¬¬20è½®å¼€å§‹å›°éš¾æ ·æœ¬æŒ–æ˜
confidence_threshold: 0.8                # èƒŒæ™¯ç½®ä¿¡åº¦é˜ˆå€¼ï¼Œè¶…è¿‡æ­¤å€¼è®¤ä¸ºæ˜¯ç®€å•æ ·æœ¬
sample_threshold: 0.6                    # æ ·æœ¬ä¸­ç®€å•åƒç´ æ¯”ä¾‹é˜ˆå€¼ï¼Œè¶…è¿‡æ­¤å€¼çš„æ ·æœ¬è¢«å¤„ç†
filter_strategy: 'weight'                # 'filter'å®Œå…¨è¿‡æ»¤ æˆ– 'weight'é™æƒ
easy_sample_weight: 0.1                  # ç®€å•æ ·æœ¬çš„æƒé‡ï¼ˆå½“ä½¿ç”¨weightç­–ç•¥æ—¶ï¼‰